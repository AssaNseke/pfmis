<!-- spinner -->
<div class="spinner-container">
    <div *ngIf="sharedService.isLoading | async">
        <mat-progress-bar mode="indeterminate" style="color: goldenrod;"></mat-progress-bar>
    </div>
</div>

<mat-toolbar class="mat-elevation-z8">
    <button mat-icon-button *ngIf="sidenav.mode === 'over'" (click)="sidenav.toggle()">
        <mat-icon *ngIf="!sidenav.opened">
            menu
        </mat-icon>
        <mat-icon *ngIf="sidenav.opened">
            close
        </mat-icon>
    </button>
    <span class="example-spacer"></span>
    <div [matMenuTriggerFor]="menu" class="user-menu">
        <mat-icon>person</mat-icon><small>{{user}}</small>
        <i class="fa fa-caret-down"></i>
    </div>
    <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="showProfile()">
            <mat-icon>subject</mat-icon>
            <span>Profile</span>
        </button>
        <button mat-menu-item (click)="onChangePassword()">
            <mat-icon>loop</mat-icon>
            <span>Change Password</span>
        </button>
        <button mat-menu-item (click)="onLogout()">
            <mat-icon>power_settings_new</mat-icon>
            <span>Logout</span>
        </button>
    </mat-menu>

</mat-toolbar>

<mat-sidenav-container>
    <mat-sidenav #sidenav="matSidenav" class="mat-elevation-z8">
        <div class="logo-image d-none d-md-block">
            <img src="/assets/images/logo.png" alt="" class="log-img">
        </div>
        <h2>ERMIS</h2>
        <mat-divider></mat-divider>
        <div class="navigation-menu" fxLayout="column" >

            <!-- menu -->
            <div id="MainMenu">
                <div class="list-group panel menu-items">
                    <!-- dashboard -->
                    <a class="list-group-item list-group-item-success menu-button" routerLink="/dashboard" data-parent="#MainMenu">
                        <mat-icon>dashboard</mat-icon>
                        <span>Dashboard</span>
                    </a><a class="list-group-item list-group-item-success menu-button" routerLink="/user/register" data-parent="#MainMenu">
                        <mat-icon>person</mat-icon>
                        <span>System Users</span>
                    </a>

                    <!-- employee information -->
                    <a href="#progress" class="list-group-item list-group-item-success menu-button" data-toggle="collapse" data-parent="#MainMenu">
                        <mat-icon>people</mat-icon>
                        <span>Employee</span>
                        <span class="example-spacer "></span>
                        <i class="fa fa-caret-down"></i>ajkjakfjakjfk
                    </a>
                    <div class="collapse" id="progress">
                        <a routerLink="#" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>All Staffs</a>
                        <a routerLink="#" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Permanent Employee</a>
                        <a routerLink="#" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>ParTime </a>
                        <a routerLink="/reports/logs" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Volunteers</a>

                    </div>
                    <!-- file management -->
                    <a href="#progress" class="list-group-item list-group-item-success menu-button" data-toggle="collapse" data-parent="#MainMenu">
                        <mat-icon>attach_file</mat-icon>
                        <span>Files Management</span>
                        <span class="example-spacer "></span>
                        <i class="fa fa-caret-down"></i>
                    </a>
                    <div class="collapse" id="progress">
                        <a routerLink="#" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>File Radder</a>
                        <a routerLink="#" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Manage Files</a>
                        <a routerLink="#" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Documents Uploads</a>
                        <a routerLink="/reports/logs" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Volunteers</a>

                    </div>
                    <a href="#config" class="list-group-item list-group-item-success menu-button" data-toggle="collapse" data-parent="#MainMenu">
                        <mat-icon>settings</mat-icon>
                        <span>Setup</span>
                        <span class="example-spacer "></span>
                        <i class="fa fa-caret-down"></i>
                    </a>
                    <div class="collapse" id="config">
                        <a routerLink="/user/register" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>User Management</a>
                        <a routerLink="/user/rolesandpermissions" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Roles and Permission</a>
                        <a routerLink="/requesting/department" class="list-group-item sub-menu-button" ><i class="fa fa-caret-right"></i>Departments</a>
                        <a routerLink="/requesting/employee-category" class="list-group-item sub-menu-button"><i class="fa fa-caret-right" ></i>Employees Categories</a>
                    </div>
                </div>
            </div>
            <mat-divider></mat-divider>
            <button mat-button class="menu-button">
                <mat-icon>book</mat-icon>
                <span>User Manual</span>
            </button>
        </div>
    </mat-sidenav>
    <mat-sidenav-content style="padding: 8px;">
        <router-outlet></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container>
<div mat-footer class="footer">
    All Rights Reserved &copy; {{ currentYear }} Sokoine University of Agriculture.
</div>

<!-- [hidden]="!permissions.rolesandpermissons" -->
